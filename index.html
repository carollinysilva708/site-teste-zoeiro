<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Jogo do Mario - Teste Romântico</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background-color: #87CEEB; /* Céu azul claro */
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      overflow: hidden;
    }

    #gameContainer {
      width: 800px;
      height: 400px;
      background-color: #228B22; /* Cor do fundo (grama) */
      position: relative;
      overflow: hidden;
    }

    #player {
      width: 50px;
      height: 50px;
      background-color: red; /* Personagem Mario */
      position: absolute;
      bottom: 50px; /* Posição na base da tela */
      left: 50px;
      border-radius: 5px;
    }

    .coin {
      width: 30px;
      height: 30px;
      background-color: yellow; /* Moeda */
      border-radius: 50%;
      position: absolute;
      animation: fall 3s infinite;
    }

    @keyframes fall {
      from {
        top: -30px;
      }
      to {
        top: 400px;
      }
    }

    .platform {
      width: 100%;
      height: 20px;
      background-color: #8B4513; /* Cor da plataforma */
      position: absolute;
      bottom: 0;
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>

  <div id="gameContainer">
    <div id="player"></div>
    <div class="platform"></div>
  </div>

  <script>
    const player = document.getElementById('player');
    const gameContainer = document.getElementById('gameContainer');
    let isJumping = false;
    let score = 0;

    // Movimentos do jogador
    let playerX = 50;  // Posição inicial X
    const moveSpeed = 5;  // Velocidade de movimento

    // Função para mover o jogador
    function movePlayer(event) {
      if (event.key === "ArrowRight") {
        playerX += moveSpeed;
        if (playerX + 50 <= gameContainer.clientWidth) {
          player.style.left = playerX + "px";
        }
      }
      if (event.key === "ArrowLeft") {
        playerX -= moveSpeed;
        if (playerX >= 0) {
          player.style.left = playerX + "px";
        }
      }
      if (event.key === "ArrowUp" && !isJumping) {
        jump();
      }
    }

    // Função para o pulo
    function jump() {
      isJumping = true;
      let jumpHeight = 0;
      const jumpInterval = setInterval(() => {
        if (jumpHeight >= 100) {
          clearInterval(jumpInterval);
          fall();
        }
        jumpHeight += 5;
        player.style.bottom = 50 + jumpHeight + 'px';
      }, 20);
    }

    // Função para a queda após o pulo
    function fall() {
      let fallHeight = 100;
      const fallInterval = setInterval(() => {
        if (fallHeight <= 0) {
          clearInterval(fallInterval);
          isJumping = false;
        }
        fallHeight -= 5;
        player.style.bottom = 50 + fallHeight + 'px';
      }, 20);
    }

    // Função para criar e animar moedas
    function spawnCoin() {
      const coin = document.createElement('div');
      coin.classList.add('coin');
      coin.style.left = Math.random() * (gameContainer.clientWidth - 30) + 'px';  // Posição aleatória
      gameContainer.appendChild(coin);

      // Verificar colisão com a moeda
      const coinInterval = setInterval(() => {
        if (isCollision(player, coin)) {
          score++;
          console.log("Pontuação: " + score);
          coin.remove(); // Remove a moeda ao pegar
        }
      }, 10);
    }

    // Verificar colisão entre o jogador e a moeda
    function isCollision(player, coin) {
      const playerRect = player.getBoundingClientRect();
      const coinRect = coin.getBoundingClientRect();
      return !(playerRect.right < coinRect.left ||
               playerRect.left > coinRect.right ||
               playerRect.bottom < coinRect.top ||
               playerRect.top > coinRect.bottom);
    }

    // Adicionar a lógica para o jogo
    document.addEventListener('keydown', movePlayer);

    // Gerar moedas aleatórias
    setInterval(spawnCoin, 2000); // Uma moeda a cada 2 segundos
  </script>
</body>
</html>
